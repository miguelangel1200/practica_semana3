<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Semaforo inteligente</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/estilos.css">
    <script src="js/jquery-3.6.0.min.js" type="text/javascript"></script>

    <script>
        $(document).ready(() =>{
            $("#boton").on("click",function(){
                $("#boton").prop("disabled",true);
                $("#input1").prop("disabled",true);
                $("#input2").prop("disabled",true);
                
                var trafico1=$("#input1").val();
                var trafico2=$("#input2").val();
                
                if (trafico1<trafico2) {
                    $("#S1_R").css("background-color", "rgb(255, 0, 0)");
                    $("#S1_A").css("background-color", "rgb(255, 255, 255)");
                    $("#S1_V").css("background-color", "rgb(255, 255, 255)");
                    $("#S2_V").css("background-color", "rgb(0, 255, 0)");
                    $("#S2_A").css("background-color", "rgb(255, 255, 255)");
                    $("#S2_R").css("background-color", "rgb(255, 255, 255)");

                    $('#carro1').animate({left:'540%'},4000,function(){
                        $('#carro1').animate({left:'-10%'},4000);  
                    }
                    
                    );
                    $('#carro3').animate({right:'540%'},4000,function(){ 
                        $('#carro3').animate({right:'-10%'},4000);  
                        $('#boton').animate({opacity:'1'},5000,function(){
                            $("#boton").prop("disabled",false);
                            $("#input1").prop("disabled",false);
                            $("#input2").prop("disabled",false);
                            }
                        );
                    }
                    );   
                }else if(trafico1>trafico2){
                    $("#S1_V").css("background-color", "rgb(0, 255, 0)");
                    $("#S1_A").css("background-color", "rgb(255, 255, 255)");
                    $("#S1_R").css("background-color", "rgb(255, 255, 255)");
                    $("#S2_R").css("background-color", "rgb(255, 0, 0)");
                    $("#S2_A").css("background-color", "rgb(255, 255, 255)");
                    $("#S2_V").css("background-color", "rgb(255, 255, 255)");

                    $('#carro2').animate({top:'500px'},4000,function(){
                        $('#carro2').animate({top:'0px'},4000);  
                    }
                    );
                    $('#carro4').animate({bottom:'500px'},4000,function(){
                        $('#carro4').animate({bottom:'0px'},4000);
                        $('#boton').animate({opacity:'1'},5000,function(){
                            $("#boton").prop("disabled",false);
                            $("#input1").prop("disabled",false);
                            $("#input2").prop("disabled",false);
                            }
                        );  
                    }
                    
                    );   
                }
            });   
        });  
    </script>

</head>
<body>
<!--  Aca inicia la primera fila --> 
    <div class="container">
        <div class="row">
          <div class="col" style="background-color: rgb(242, 245, 89);">
                <button id="boton" type="button" class="btn btn-primary">Simular</button>
                <!-- Ingresar Datos de Formulario-->
              <div id="contenedor_formulario">
                  <div class="mb-3">
                      <label for="formGroupExampleInput" class="form-label">Calle Numero 1</label>
                      <input style="font-size:15px;" type="text" class="form-control" id="input1" placeholder="Ingrese Cantidad de carros">
                    </div>
                    <div class="mb-3">
                      <label for="formGroupExampleInput2" class="form-label">Calle Numero 2</label>
                      <input style="font-size:15px;" type="text" class="form-control" id="input2" placeholder="Ingrese Cantidad de carros">
                    </div>
              </div>
          </div>
          <div class="col">
            
          </div>
          <div class="col" id="carreteras">
            <div id="contenedor_amarillo">
                <img src="img/carro_amarillo.png" style="height: 100px;" id="carro2">
            </div>
            <div id="S1_R"></div>
            <div id="S1_A"></div>
            <div id="S1_V"></div>
          </div>
          <div class="col">
            
          </div>
          <div class="col">
            
          </div>
        </div>
<!--  Aca inicia la segunda fila --> 
        <div class="row">
            <div class="col">
              
            </div>
            <div class="col" id="carreteras">
                <div id="contenedor_azul">
                    <img src="img/carro_azul.png" style="width: 100px;" id="carro1">
                </div>
                <div id="semaforo_2">
                    <div id="S2_R"></div>
                    <div id="S2_A"></div>
                    <div id="S2_V"></div>   
                </div>
            </div>
            <div class="col" id="carreteras">
              
            </div>
            <div class="col poner_abajo" id="carreteras">
                <!-- <div class="position-absolute"> -->
                    <div id="contenedor_verde">
                        <img src="img/carro_verde.png" style="width: 100px;" id="carro3">
                    </div>
                <!-- </div> -->
            </div>
            <div class="col">
              
            </div>
          </div>
<!--  Aca inicia la tercera fila -->         
          <div class="row"> 
            <div class="col">
              
            </div>
            <div class="col">
             
            </div>
            <!-- Colocar la clase poner_abajo en la columna -->
            <div class="col poner_abajo" id="carreteras">
                <div id="contenedor_morado">
                    <img src="img/carro_morado.png" style="height: 100px;" id="carro4">
                </div>
            </div>
            <div class="col">
              
            </div>
            <div class="col">
              
            </div>
          </div>
      </div>

</body>
</html>
